@using PoC1_LegacyAnalyzer_Web.Helpers

@* Executive summary display card *@
<div class="card shadow mb-3">
    <div class="card-header bg-primary text-white">
        <h5 class="mb-0"><i class="bi bi-file-earmark-text"></i> Executive Summary</h5>
    </div>
    <div class="card-body">
        @if (IsAnalyzing)
        {
            <div class="text-center py-4">
                <div class="spinner-border text-primary mb-3"></div>
                <p class="text-muted mb-0">
                    <em>Analysis in progress... Executive summary will appear here.</em>
                </p>
            </div>
        }
        else if (string.IsNullOrWhiteSpace(ExecutiveSummary))
        {
            <div class="text-center py-4">
                <i class="bi bi-hourglass-split text-muted" style="font-size: 2rem;"></i>
                <p class="text-muted mt-2 mb-0">
                    <em>Executive summary will be generated after analysis completes...</em>
                </p>
            </div>
        }
        else
        {
            <div class="executive-summary-content">
                @((MarkupString)FormattingHelpers.FormatExecutiveSummary(ExecutiveSummary))
            </div>
        }
    </div>
</div>

@code {
    [Parameter] public string? ExecutiveSummary { get; set; }
    [Parameter] public bool IsAnalyzing { get; set; }
}

<style>
    .executive-summary-content {
        background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
        border-radius: 12px;
        padding: 2rem;
        line-height: 1.8;
        font-size: 15px;
        border-left: 5px solid #007bff;
    }

    .executive-summary-content h6 {
        color: #2c3e50;
        margin: 1.5rem 0 0.8rem 0;
        font-weight: 600;
        display: flex;
        align-items: center;
    }

    .executive-summary-content h6::before {
        content: "??";
        margin-right: 0.5rem;
        font-size: 1.2em;
    }

    .executive-summary-content p {
        margin-bottom: 1rem;
    }
</style>