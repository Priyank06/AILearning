{
  "Logging": {
    "LogLevel": {
      "Default": "Information",
      "Microsoft.AspNetCore": "Warning"
    }
  },
  "AllowedHosts": "*",
  "KeyVault": {
    "Enabled": false,
    "VaultUri": "",
    "ManagedIdentityClientId": "",
    "TenantId": "",
    "SecretPrefix": "App--",
    "ReloadIntervalSeconds": 0
  },
  "AzureOpenAI": {
    "Endpoint": "",
    "ApiKey": "",
    "Deployment": "gpt-35-turbo",
    "MaxTokens": 4000,
    "Temperature": 0.3,
    "RequestTimeoutSeconds": 120
  },
  "PromptConfiguration": {
    "CodePreviewMaxLength": 1200,
    "MaxTokensForQuickInsight": 60,
    "TemperatureForQuickInsight": 0.2,
    "SystemPrompts": {
      "security": "You are a senior security architect providing actionable C# security assessment and recommendations.",
      "performance": "You are a performance engineering specialist identifying specific C# optimization opportunities and bottlenecks.",
      "migration": "You are a migration architect assessing C# code modernization requirements and providing strategic guidance.",
      "general": "You are a senior software architect providing comprehensive C# code modernization and quality assessment."
    },
    "AnalysisPromptTemplates": {
      "baseTemplate": "Perform a {analysisType} analysis on the provided C# code. The code contains {classCount} classes, {methodCount} methods, and {propertyCount} properties. Principal classes: {principalClasses}. Code preview: {codePreview}.",
      "security": {
        "sections": [
          "1. Identify potential security vulnerabilities in the code.",
          "2. Recommend best practices for secure coding.",
          "3. Assess authentication and authorization mechanisms.",
          "4. Suggest improvements for data protection and privacy."
        ]
      },
      "performance": {
        "sections": [
          "1. Detect performance bottlenecks in the code.",
          "2. Recommend optimization strategies for resource usage.",
          "3. Assess scalability and concurrency aspects.",
          "4. Suggest improvements for memory and CPU efficiency."
        ]
      },
      "migration": {
        "sections": [
          "1. Identify legacy patterns and outdated dependencies.",
          "2. Recommend modernization strategies for C# code.",
          "3. Assess compatibility with .NET 8 and Blazor.",
          "4. Suggest steps for a smooth migration process."
        ]
      },
      "general": {
        "sections": [
          "1. Assess overall code quality and maintainability.",
          "2. Recommend refactoring opportunities.",
          "3. Evaluate adherence to C# best practices.",
          "4. Suggest improvements for documentation and readability."
        ]
      }
    },
    "ErrorMessages": {
      "rateLimitExceeded": "Request rate limit exceeded. Please try again later.",
      "authenticationFailed": "Authentication failed. Please check your credentials.",
      "generalFailure": "An unexpected error occurred. Please contact support.",
      "noResponse": "No response received from the analysis service."
    }
  },
  "AgentConfiguration": {
    "AgentProfiles": {
      "security": {
        "AgentName": "SecurityAnalyst-Alpha",
        "Specialty": "Application Security Specialist",
        "AgentPersona": "A vigilant security expert focused on identifying vulnerabilities, enforcing secure coding practices, and ensuring compliance with industry standards.",
        "ConfidenceThreshold": 80
      },
      "performance": {
        "AgentName": "PerformanceGuru-Beta",
        "Specialty": "Performance Optimization Specialist",
        "AgentPersona": "An analytical engineer dedicated to uncovering bottlenecks, optimizing resource usage, and enhancing scalability and efficiency.",
        "ConfidenceThreshold": 85
      },
      "architecture": {
        "AgentName": "Architect-Master-Gamma",
        "Specialty": "Software Architecture Strategist",
        "AgentPersona": "A visionary architect skilled in designing robust, maintainable, and scalable systems aligned with business goals.",
        "ConfidenceThreshold": 75
      }
    },
    "AgentPromptTemplates": {
      "security": {
        "AnalysisPrompt": "As {agentPersona}, analyze the following code for security risks:\n{code}\nConsider compliance standards: {complianceStandards}\nBusiness context: {businessContext}\nSections:\n1. Vulnerability Assessment\n2. Secure Coding Recommendations\n3. Compliance Alignment\n4. Risk Mitigation Strategies",
        "PeerReviewPrompt": "As {agentPersona}, review the peer's analysis:\nPeer Analysis: {peerAnalysis}\nOriginal Code: {originalCode}\nFocus on: {reviewFocus}\nProvide constructive feedback and identify overlooked security issues.",
        "DefaultResponse": "Security analysis could not be completed. Please review the input and try again."
      },
      "performance": {
        "AnalysisPrompt": "As {agentPersona}, evaluate the following code for performance:\n{code}\nConsider compliance standards: {complianceStandards}\nBusiness context: {businessContext}\nSections:\n1. Bottleneck Identification\n2. Optimization Strategies\n3. Scalability Assessment\n4. Resource Efficiency",
        "PeerReviewPrompt": "As {agentPersona}, review the peer's performance analysis:\nPeer Analysis: {peerAnalysis}\nOriginal Code: {originalCode}\nFocus on: {reviewFocus}\nSuggest further optimizations and validate findings.",
        "DefaultResponse": "Performance analysis could not be completed. Please review the input and try again."
      },
      "architecture": {
        "AnalysisPrompt": "As {agentPersona}, assess the following code for architectural soundness:\n{code}\nConsider compliance standards: {complianceStandards}\nBusiness context: {businessContext}\nSections:\n1. Design Pattern Evaluation\n2. Maintainability Assessment\n3. Scalability Review\n4. Alignment with Business Objectives",
        "PeerReviewPrompt": "As {agentPersona}, review the peer's architectural analysis:\nPeer Analysis: {peerAnalysis}\nOriginal Code: {originalCode}\nFocus on: {reviewFocus}\nRecommend improvements and highlight architectural risks.",
        "DefaultResponse": "Architectural analysis could not be completed. Please review the input and try again."
      }
    },
    "OrchestrationPrompts": {
      "CreateAnalysisPlan": "Develop an analysis plan based on the business objective: {businessObjective} and code context: {codeContext}. Outline agent roles and expected outcomes.",
      "FacilitateDiscussion": "Facilitate a discussion on the topic: {topic} using findings: {findings} from agents: {agentNames}. Encourage consensus and address conflicts.",
      "SynthesizeRecommendations": "Synthesize recommendations from analyses: {analyses}, highlighting consensus: {consensus} and conflicts: {conflicts}. Provide actionable next steps.",
      "CreateExecutiveSummary": "Summarize the key findings and recommendations for executive stakeholders in a concise and actionable format.",
      "CreateImplementationStrategy": "Outline a step-by-step implementation strategy based on the synthesized recommendations and business priorities."
    },
    "BusinessImpactRules": {
      "RiskLevelMapping": [
        { "pattern": "SQL Injection", "riskLevel": "High" },
        { "pattern": "Hardcoded Credentials", "riskLevel": "Critical" },
        { "pattern": "Inefficient Loop", "riskLevel": "Medium" }
      ],
      "InvestmentPriorityRules": [
        { "condition": "riskLevel == 'Critical'", "action": "Immediate remediation required" },
        { "condition": "riskLevel == 'High'", "action": "Prioritize in next sprint" },
        { "condition": "riskLevel == 'Medium'", "action": "Schedule for review" }
      ],
      "EffortEstimationFactors": {
        "LowComplexity": 1.0,
        "MediumComplexity": 1.5,
        "HighComplexity": 2.0,
        "LegacyCode": 2.5
      }
    }
  },
  "BusinessCalculationRules": {
    "CostCalculation": {
      "BaseValuePerLine": 0.1,
      "MaxEstimatedValue": 1000000,
      "DefaultDeveloperHourlyRate": 125,
      "ComplexityMultiplierBase": 0.5
    },
    "ComplexityThresholds": {
      "VeryLow": 20,
      "Low": 30,
      "Medium": 50,
      "High": 60,
      "VeryHigh": 70
    },
    "RiskThresholds": {
      "LowRiskMax": 30,
      "MediumRiskMax": 60,
      "HighRiskMin": 60
    },
    "TimelineEstimation": {
      "VeryLow": "2-4 weeks",
      "Low": "4-8 weeks",
      "Medium": "8-12 weeks",
      "High": "12+ weeks"
    },
    "ProjectSizeClassification": {
      "Small": { "MaxFiles": 5, "MaxClasses": 10, "Label": "Small Project" },
      "Medium": { "MaxFiles": 15, "MaxClasses": 25, "Label": "Medium Project" },
      "Large": { "MaxFiles": 30, "MaxClasses": 50, "Label": "Large Project" },
      "Enterprise": { "Label": "Enterprise Project" }
    },
    "AgentWeighting": {
      "SecurityWeight": 1.2,
      "PerformanceWeight": 1.1,
      "ArchitectureWeight": 1.3,
      "DefaultWeight": 1
    },
    "ProcessingLimits": {
      "MetadataSampleFileCount": 20,
      "CodeContextSummaryMaxLength": 800,
      "TokenEstimationCharsPerToken": 4
    },
    "ArchitecturalDebt": {
      "PoorSeparationOfConcernsDebt": 30,
      "BasicSeparationOfConcernsDebt": 15,
      "MonolithicArchitectureDebt": 20,
      "NoDesignPatternsDebt": 25,
      "NoTestingDebt": 25,
      "MaxDebtScore": 100
    },
    "ComplianceCost": {
      "CostAvoidanceByRiskLevel": {
        "HIGH": 15000,
        "MEDIUM": 8000,
        "LOW": 3000,
        "DEFAULT": 1000
      }
    },
    "ManualAnalysis": {
      "HoursPerClass": 2,
      "HoursPerMethod": 0.25,
      "HoursPerDependency": 0.5,
      "AIAnalysisTimeMinutes": 3,
      "AIAnalysisCostPerAssessment": 5
    },
    "AnalysisLimits": {
      "FolderComplexity": {
        "FileCountMultiplier": 5,
        "FileCountThreshold": 10,
        "AdditionalComplexityWhenThresholdExceeded": 20,
        "MaxComplexityScore": 100
      },
      "ArchitecturalAssessment": {
        "ExcellentSeparationLayerCount": 4,
        "GoodSeparationLayerCount": 3,
        "BasicSeparationLayerCount": 2,
        "GoodTestCoverageFolderCount": 2
      },
      "InvestmentPriorityFallback": {
        "HighRiskHighValueThreshold": 100000,
        "MediumRiskHighValueThreshold": 50000
      },
      "ResultLimits": {
        "MaxFoldersToAnalyze": 10,
        "MaxKeyClassesPerFolder": 5,
        "MaxNextSteps": 6,
        "MaxFilesForSingleAgentAnalysis": 10,
        "MaxFilesForMultiAgentAnalysis": 10,
        "DefaultComplexityScore": 50
      },
      "BusinessMetrics": {
        "BaseHoursPerMethod": 0.5,
        "ComplexityMultiplierBase": 0.5
      }
    }
  },
  "AgentAnalysisConfiguration": {
    "Security": {
      "ConfidenceScoreMultiplier": 20,
      "MinAnalysisLengthForConfidence": 500,
      "EffortEstimationByComplexity": {
        "0": 8,
        "1": 16,
        "2": 40,
        "3": 80
      },
      "RiskLevelByFactorCount": {
        "0": "LOW",
        "1": "MEDIUM",
        "2": "HIGH",
        "3": "CRITICAL"
      },
      "MaxEvidenceItems": 3
    },
    "Performance": {
      "ConfidenceScoreMultiplier": 16,
      "MinAnalysisLengthForConfidence": 600,
      "EffortEstimationByComplexity": {
        "0": 4,
        "1": 12,
        "2": 24,
        "3": 40,
        "4": 80
      }
    },
    "Architecture": {
      "ConfidenceScoreMultiplier": 14,
      "MinAnalysisLengthForConfidence": 800,
      "EffortEstimationByComplexity": {
        "1": 16,
        "2": 40,
        "3": 80,
        "4": 160,
        "5": 320
      }
    }
  },
  "Analysis": {
    "MaxFilesPerProject": 50,
    "MaxFileSizeBytes": 10485760,
    "SupportedFileExtensions": [ ".cs", ".vb", ".fs", ".cpp", ".h" ],
    "EnableDetailedLogging": true,
    "CacheAnalysisResults": false
  },
  "Security": {
    "EnableRateLimiting": true,
    "MaxRequestsPerMinute": 10,
    "RequireAuthentication": false,
    "AllowedOrigins": [ "https://localhost:7001" ]
  },
  "FeatureFlags": {
    "EnableMultiAgentAnalysis": true,
    "EnableArchitecturalAnalysis": true,
    "EnableBusinessImpactAnalysis": true,
    "EnableReportDownload": true
  }
}
